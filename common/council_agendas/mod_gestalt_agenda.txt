agenda_gestalt_purge_traits = {
	agenda_cost = @base_agenda_cost
	potential = {
		is_gestalt = yes
	}
	allow = {
		always = yes
	}
	finish_modifier = agenda_gestalt_purge_traits_finish
	effect = {
		every_owned_leader = {
			if = {
				# Remove Exp per Trait being removed.
				limit = {
					num_leader_traits = {
						value > 0
						negative = yes						# Tiers don't matter in this check.
					}
				}
				hidden_effect = {
					add_experience = value:purge_traits_exp_change_total					# -300 per trait, not counting tiers.
					# Restore pending traits and tiers, so they'll come back eventually. But a 10% chance to reduce their numbers.
					change_variable = {
						which = leader_pending_negative_traits_unmodified
						value = value:leader_num_negative_leader_trait_tiers
					}
				}
				remove_trait = all_negative
			}
		}
	}
}
